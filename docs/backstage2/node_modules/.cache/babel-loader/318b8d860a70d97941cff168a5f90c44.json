{"remainingRequest":"E:\\实训\\backstage2\\node_modules\\babel-loader\\lib\\index.js!E:\\实训\\backstage2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\实训\\backstage2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\实训\\backstage2\\src\\views\\userlist\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\实训\\backstage2\\src\\views\\userlist\\index.vue","mtime":1591790309956},{"path":"E:\\实训\\backstage2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\实训\\backstage2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\实训\\backstage2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\实训\\backstage2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VXNlcnMgfSBmcm9tICcuLi8uLi9odHRwL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZWluZm86IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgcGFnZW51bTogMSwKICAgICAgICBwYWdlc2l6ZTogMgogICAgICB9LAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgdG9rZW46IDEKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgZ2V0VXNlcnMoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgZ2V0VXNlcnModGhpcy5wYWdlaW5mbywgdG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CgogICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuZGF0YSkgewogICAgICAgIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSwKICAgICAgICAgICAgX3JlcyRkYXRhJGRhdGEgPSBfcmVzJGRhdGEuZGF0YSwKICAgICAgICAgICAgcGFnZW51bSA9IF9yZXMkZGF0YSRkYXRhLnBhZ2VudW0sCiAgICAgICAgICAgIHRvdGFsID0gX3JlcyRkYXRhJGRhdGEudG90YWwsCiAgICAgICAgICAgIF9yZXMkZGF0YSRtZXRhID0gX3JlcyRkYXRhLm1ldGEsCiAgICAgICAgICAgIG1zZyA9IF9yZXMkZGF0YSRtZXRhLm1zZywKICAgICAgICAgICAgc3RhdHVzID0gX3JlcyRkYXRhJG1ldGEuc3RhdHVzOwogICAgICAgIGNvbnNvbGUubG9nKHBhZ2VudW0sIHRvdGFsLCBtc2csIHN0YXR1cyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1ldGEgPSByZXMuZGF0YS5tZXRhOwogICAgICAgIGNvbnNvbGUubG9nKG1ldGEpOwogICAgICB9CgogICAgICBpZiAoc3RhdHVzID09PSAyMDApIHsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhLnVzZXJzOwogICAgICAgIF90aGlzLnBhZ2VpbmZvLnBhZ2VudW0gPSBwYWdlbnVtOwogICAgICAgIF90aGlzLnRva2VuID0gdG90YWw7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlaW5mby5wYWdlc2l6ZSA9IHZhbDsKICAgICAgY29uc29sZS5sb2coIlx1NkJDRlx1OTg3NSAiLmNvbmNhdCh2YWwsICIgXHU2NzYxIikpOwogICAgICB0aGlzLmdldFVzZXJzKCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlaW5mby5wYWdlbnVtID0gdmFsOwogICAgICBjb25zb2xlLmxvZygiXHU1RjUzXHU1MjREXHU5ODc1OiAiLmNvbmNhdCh2YWwpKTsgLy8gZ2V0VXNlcnMoKQogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAA,QAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,CAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,WAAA,EAAA,CAPA;AAQA,MAAA,KAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,QAAA;AACA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,QAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,IAAA,QAAA,CAAA,KAAA,QAAA,EAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;;AAEA,UAAA,GAAA,CAAA,IAAA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AAAA,wBACA,GAAA,CAAA,IADA;AAAA,uCACA,IADA;AAAA,YACA,OADA,kBACA,OADA;AAAA,YACA,KADA,kBACA,KADA;AAAA,uCACA,IADA;AAAA,YACA,GADA,kBACA,GADA;AAAA,YACA,MADA,kBACA,MADA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA,EAAA,GAAA,EAAA,MAAA;AACA,OAHA,MAGA;AAAA,YACA,IADA,GACA,GAAA,CAAA,IADA,CACA,IADA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA;;AAEA,UAAA,MAAA,KAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,OAAA,GAAA,OAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA;AACA,KAhBA;AAiBA,GApCA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,GADA,EACA;AACA,WAAA,QAAA,CAAA,QAAA,GAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,wBAAA,GAAA;AACA,WAAA,QAAA;AACA,KALA;AAMA,IAAA,mBANA,+BAMA,GANA,EAMA;AACA,WAAA,QAAA,CAAA,OAAA,GAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,+BAAA,GAAA,GAFA,CAGA;AACA;AAVA;AArCA,CAAA","sourcesContent":["<template>\r\n    <div class=\"userlist\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>活动管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>活动列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-card class=\"userlist_con\">\r\n            <el-input placeholder=\"请输入内容\" v-model=\"pageinfo.query\" class=\"input_seach\">\r\n                <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n            </el-input>\r\n            <el-button type=\"primary\">添加用户</el-button>\r\n            <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n                <el-table-column type=\"index\" ></el-table-column>\r\n                <el-table-column prop=\"username\" label=\"姓名\" \"></el-table-column>\r\n                <el-table-column prop=\"email\" label=\"邮箱\" \"></el-table-column>\r\n                <el-table-column prop=\"phone\" label=\"电话\" \"></el-table-column>\r\n                <el-table-column prop=\"role_name\" label=\"角色\" \"></el-table-column>\r\n                <el-table-column prop=\"create_time\" label=\"注册时间\" \"></el-table-column>\r\n                <el-table-column prop=\"mg_state\" label=\"状态\" \"></el-table-column>\r\n                <el-table-column prop=\"operation\" label=\"操作\"></el-table-column>\r\n            </el-table>\r\n            <div class=\"block\">\r\n              <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageinfo.pagenum\"\r\n                :page-sizes=\"[2, 5, 10, 15]\"\r\n                :page-size=\"100\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"token\">\r\n              </el-pagination>\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUsers } from '../../http/api'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      pageinfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 2\r\n      },\r\n      tableData: [],\r\n      currentPage: 1,\r\n      token: 1\r\n    }\r\n  },\r\n\r\n  created () {\r\n    getUsers()\r\n  },\r\n  mounted () {\r\n    const token = localStorage.getItem('token')\r\n    getUsers(this.pageinfo, token).then((res) => {\r\n      console.log(res.data)\r\n\r\n      if (res.data && res.data.data) {\r\n        var { data: { pagenum, total }, meta: { msg, status } } = res.data\r\n        console.log(pagenum, total, msg, status)\r\n      } else {\r\n        var { meta } = res.data\r\n        console.log(meta)\r\n      }\r\n\r\n      if (status === 200) {\r\n        this.tableData = res.data.data.users\r\n        this.pageinfo.pagenum = pagenum\r\n        this.token = total\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    handleSizeChange (val) {\r\n      this.pageinfo.pagesize = val\r\n      console.log(`每页 ${val} 条`)\r\n      this.getUsers()\r\n    },\r\n    handleCurrentChange (val) {\r\n      this.pageinfo.pagenum = val\r\n      console.log(`当前页: ${val}`)\r\n      // getUsers()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.userlist{\r\n    width: 100%;\r\n}\r\n.userlist_con{\r\n    width: 100%;\r\n    background-color: white;\r\n    margin-top: 20px;\r\n}\r\n.input_seach{\r\n    width: 300px;\r\n    margin: 0 10px 10px 0;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/userlist"}]}